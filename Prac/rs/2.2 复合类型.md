# 字符串和切片

```rust
fn main() {
  let my_name = "Pascal";
  greet(my_name);
}
```

## 切片 Slice

```rust
let s = String::from("hello world"); // s 是String类型
let b = "Hello, world!";             // b 是&str类型
// let b: &str = "Hello, world!";
let hello = &s[0..5]; // 左闭右开
let world = &s[6..11];
```

1. 标识符是&str
2. 切片是对String类型的部分引用
3. 切片由一个指针和一个长度组成

---

![示意图](https://github.com/Yinye1986/Notes/tree/main/Prac/rs/src/2.2-1.jpg)

world 是一个切片; 图例展示该切片的指针指向 s 的第 7 个字节(索引从 0 开始, 6 是第 7 个字节), 且该切片的长度是 5 个字节(终止索引-开始索引)

---

```rust
let s = "中国人";
let a = &s[0..2];
println!("{}",a);
```

这个示例是错的; UTF-8中, 一个汉字占3个字节, 切片一定要切到字符的边界

### 关于切片的一些语法糖

```rust
let s = String::from("hello");
let slice = &s[0..2];
let slice = &s[..2];
```

从0开始可省略0

---

```rust
let s = String::from("hello");
let len = s.len();
let slice = &s[4..len];
let slice = &s[4..];
```

取最后一个字节

---

```rust
let s = String::from("hello");
let len = s.len();
let slice = &s[0..len];
let slice = &s[..];
```

取全部字节

### 其他切片

其他集合类型也有切片, 例如数组切片

## 字符串

底层使用u8存储UTF-8编码
